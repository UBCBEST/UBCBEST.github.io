<section class="projects tab-panel" id="projects" ng-cloak>
    <h1 class="text-right section-heading wow fadeIn red">
        Projects
    </h1>
    <hr class="divider projects wow fadeIn">
    <ul class="nav nav-tabs wow fadeIn">
        <li ng-class="{ 'active': isTabP($index) }" ng-repeat="project in projects"
            ng-click="setTabP($index)">
            <a data-target="#{[ project.id ]}" data-toggle="tab">
                <span class="hidden-xs">{[ project.tab ]}</span>
                <span class="visible-xs"><i class="fa" ng-class="project.icon"></i></span>
            </a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade in" ng-class="{ 'active': isTabP($index) }" id="{[ project.id ]}"
             ng-repeat="project in projects">
            <div class="pad">
                <h1>
                    <i class="fa hidden-xs" ng-class="project.icon"></i>
                    {[ project.name ]}
                    <small>({[ project.abbr ]})</small>
                </h1>
                <p class="project-desc" ng-repeat="paragraph in project.desc">
                    {[ paragraph ]}
                </p>
            </div>

            <div class="profile-wrapper" data-stellar-background-ratio="0.5" data-stellar-vertical-offset="500">
                <section class="panel panel-default profile animated fadeInRight" ng-repeat="member in project.members"
                         data-toggle="modal" data-target="#project-profile-modal" ng-click="selectP(member)">
                    <div class="contents">
                        <div class="text-center">
                            <h3 class="name">{[ member.name ]}</h3>
                            <img ng-src="{[ member.img ]}" alt="" class="img-circle" src="/static/img/placeholder.png">
                            <h3 class="position">{[ member.position ]}</h3>
                        </div>
                    </div>
                </section>
            </div>

            <script>
                $('.profile-wrapper').stellar({
                    horizontalScrolling: true,
                    verticalScrolling: false
                })
            </script>
        </div>
    </div>


    <div class="modal fade profile-modal" id="project-profile-modal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content text-center">
                <header class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h1>{[ selectedP.name ]}</h1>
                </header>
                <div class="modal-body">
                    <img ng-src="{[ selectedP.img ]}" alt="" class="img-circle" src="/static/img/placeholder.png">
                    <h3>{[ selectedP.position ]}</h3>
                    <p class="lead">
                        {[ selectedP.year ]} Year {[ selectedP.department ]}
                        <small ng-show="member.biomed"><br/>(Biomedical Option)</small>
                    </p>
                    <p>{[ selectedP.desc ]}</p>
                </div>
            </div>
        </div>
    </div>
</section>
